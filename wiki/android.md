# Bantech AI Chatbot Android SDK - `BantechChatLibrary`

The **Bantech Chat Library** provides an easy way to integrate the Bantech AI Chatbot into your Android app using a lightweight `WebView` component.  
It supports both guest and authenticated sessions, real-time socket communication, and secure API integration.

> âš™ï¸ **Before You Start:** Make sure your environment meets all [prerequisites](../README.md#-prerequisites).

---

## âš™ï¸ Installation

### 1ï¸âƒ£ Add repository sources

In your **`settings.gradle`**, make sure to include:

```kotlin
dependencyResolutionManagement {
    repositories {
        google()
        mavenCentral()
        mavenLocal() // Required if you're building locally
    }
}
```

---

### 2ï¸âƒ£ Add dependency

In your **`app/build.gradle`**, add:

```kotlin
dependencies {
    implementation("com.bantech:chatlib:1.0.3")
}
```

---

## ğŸš€ Usage

### 1ï¸âƒ£ Add a container view

In your **`activity_main.xml`**, define a container for the chat view:

```xml
<FrameLayout
    android:id="@+id/container"
    android:layout_width="match_parent"
    android:layout_height="match_parent" />
```

---

### 2ï¸âƒ£ Initialize the chat in your Activity

```kotlin
import android.os.Bundle
import android.util.Log
import androidx.appcompat.app.AppCompatActivity
import com.bantech.chat.BantechChatLibrary
import com.example.myapplication.databinding.ActivityMainBinding

class MainActivity : AppCompatActivity() {

    private lateinit var binding: ActivityMainBinding

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        binding = ActivityMainBinding.inflate(layoutInflater)
        setContentView(binding.root)

        // âœ… Create dynamic chat config with custom host & API base URL
        val config = BantechChatLibrary.config(
            cid = "YOUR_CLIENT_ID",
            token = "YOUR_AUTH_TOKEN"
        ) {
            wsAppKey("YOUR_PUSHER_APP_KEY")
            wsHost("ws.bantech.ae")
            apiBaseUrl("https://chat.bantech.ae")
        }

        // ğŸ” Log to verify your config
        Log.d("ChatConfig", "API=${config.apiBaseUrl}, Host=${config.wsHost}")

        // âœ… Create the chat view using the config
        val chatView = BantechChatLibrary.createChatView(this, config)

        // âœ… Add chat view to your container
        binding.container.addView(chatView)
    }
}
```

---

## ğŸ§  Notes

- `cid` and `token` must be valid credentials from your Bantech backend integration.  
- `wsAppKey`, `wsHost`, and `apiBaseUrl` can be overridden for non-production environments.  
- Use `mavenLocal()` only if you're building and testing the library locally before publishing.


### ğŸ”— How to Get `cid` and `token`

Before initializing the SDK, youâ€™ll need a **Customer ID (`cid`)** and **Auth Token (`token`)** for each user.  
These credentials are generated by your backend through the chatbotâ€™s API.

> See the [Backend Integration Guide (Web)](./web.md#step-3-backend-integration-registered-customers) for how to create and manage customer records.  
> Once you have the `cid` and `token`, pass them into your SDK configuration as shown above.

---

## ğŸ§° Example Output

After running, your chat interface should appear inside the `container` view, fully interactive and connected to the Bantech chat backend.

---

## ğŸ“¬ Support
For technical support, contact **support@bantech.ae** or open an issue on the [GitHub repository](https://github.com/bantech-ae/ai-chatbot-mobile-sdk-android).
