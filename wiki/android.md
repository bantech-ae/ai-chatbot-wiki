# Bantech AI Chatbot Android SDK - `BantechChatLibrary`

The **Bantech Chat Library** provides an easy way to integrate the Bantech AI Chatbot into your Android app using a lightweight `WebView` component.  
It supports both guest and authenticated sessions, real-time socket communication, and secure API integration.

> ⚙️ **Before You Start:** Make sure your environment meets all [prerequisites](../README.md#-prerequisites).

---

## ✨ Features

- **Lightweight Android Library** — Easy to integrate with minimal setup and dependencies.  
- **WebView Chat Interface** — Embeds the full-featured Bantech chat system directly inside your app.  
- **Custom Configuration** — Supports dynamic setup using `cid`, `token`, `apiBaseUrl`, and WebSocket options.  
- **Real-Time Messaging** — Integrated with Pusher for instant updates and events.  
- **Guest & Authenticated Sessions** — Connect both guest users and logged-in customers securely.  
- **Custom Host Support** — Override the default WebSocket and API endpoints for testing or private environments.  
- **Modular Design** — Compatible with any architecture or UI layout using `FrameLayout` or custom containers.  
- **Full SDK Logging** — Built-in debug logs for connection, authentication, and response tracking.  
- **Production-Ready** — Optimized for performance and compatible with Android 8.0 (API 26) and above.  

---

## ⚙️ Requirements

To use the **Bantech Chat Library**, ensure your development environment meets the following:

- **Android Studio** — version **Giraffe (2022.3.1)** or later  
- **Android SDK** — **API level 26 (Android 8.0 Oreo)** or higher  
- **Kotlin** — version **1.8.0** or later  
- **Gradle Plugin** — version **8.0.0** or higher  
- **Internet Permission** — must be enabled in your `AndroidManifest.xml`  
- **Valid Bantech Credentials** — includes:
  - `cid` — Customer ID from your Bantech account  
  - `token` — Customer access token  
- **API Base URL** — CORS-enabled endpoint (e.g. `https://chat.bantech.ae`)  
- **WebSocket (Pusher) App Key** — required for real-time communication  


---

## ⚙️ Installation

### 1️⃣ Add repository sources

In your **`settings.gradle`**, make sure to include:

```kotlin
dependencyResolutionManagement {
    repositories {
        google()
        mavenCentral()
        mavenLocal() // Required if you're building locally
    }
}
```

---

### 2️⃣ Add dependency

In your **`app/build.gradle`**, add:

```kotlin
dependencies {
    implementation("com.bantech:chatlib:1.0.3")
}
```

---

## 🚀 Usage

### 1️⃣ Add a container view

In your **`activity_main.xml`**, define a container for the chat view:

```xml
<FrameLayout
    android:id="@+id/container"
    android:layout_width="match_parent"
    android:layout_height="match_parent" />
```

---

### 2️⃣ Initialize the chat in your Activity

```kotlin
import android.os.Bundle
import android.util.Log
import androidx.appcompat.app.AppCompatActivity
import com.bantech.chat.BantechChatLibrary
import com.example.myapplication.databinding.ActivityMainBinding

class MainActivity : AppCompatActivity() {

    private lateinit var binding: ActivityMainBinding

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        binding = ActivityMainBinding.inflate(layoutInflater)
        setContentView(binding.root)

        // ✅ Create dynamic chat config with custom host & API base URL
        val config = BantechChatLibrary.config(
            cid = "YOUR_CLIENT_ID",
            token = "YOUR_AUTH_TOKEN"
        ) {
            wsAppKey("YOUR_PUSHER_APP_KEY")
            wsHost("ws.bantech.ae")
            apiBaseUrl("https://chat.bantech.ae")
        }

        // 🔍 Log to verify your config
        Log.d("ChatConfig", "API=${config.apiBaseUrl}, Host=${config.wsHost}")

        // ✅ Create the chat view using the config
        val chatView = BantechChatLibrary.createChatView(this, config)

        // ✅ Add chat view to your container
        binding.container.addView(chatView)
    }
}
```

---

## 🧠 Notes

- `cid` and `token` must be valid credentials from your Bantech backend integration.  
- `wsAppKey`, `wsHost`, and `apiBaseUrl` can be overridden for non-production environments.  
- Use `mavenLocal()` only if you're building and testing the library locally before publishing.


### 🔗 How to Get `cid` and `token`

Before initializing the SDK, you’ll need a **Customer ID (`cid`)** and **Auth Token (`token`)** for each user.  
These credentials are generated by your backend through the chatbot’s API.

> See the [Backend Integration Guide (Web)](./web.md#step-3-backend-integration-registered-customers) for how to create and manage customer records.  
> Once you have the `cid` and `token`, pass them into your SDK configuration as shown above.

---

## 🧰 Example Output

After running, your chat interface should appear inside the `container` view, fully interactive and connected to the Bantech chat backend.

---

## 📬 Support
For technical support, contact **support@bantech.ae** or open an issue on the [GitHub repository](https://github.com/bantech-ae/ai-chatbot-mobile-sdk-android).
